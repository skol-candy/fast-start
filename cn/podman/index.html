<!DOCTYPE html><html lang="en" class="no-js"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Public viewable bootcamp materials for Fast-Start"><meta name="author" content="John Abbott"><link href="https://github.com/skol-candy/fast-start/cn/podman/" rel="canonical"><link rel="icon" href="https://www.ibm.com/favicon.ico"><meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.20"><title>Lab CN 2 - Podman Containers - Automation Fast-Starts</title><link rel="stylesheet" href="../../assets/stylesheets/main.e53b48f4.min.css"><link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:300,300i,400,400i,700,700i%7CIBM+Plex+Mono:400,400i,700,700i&amp;display=fallback"><style>:root{--md-text-font:"IBM Plex Sans";--md-code-font:"IBM Plex Mono"}</style><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config",""),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><link rel="stylesheet" href="../../assets/stylesheets/custom.00c04c01.min.css"><link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head> <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" for="__drawer"></label> <div data-md-component="skip"> <a href="#lab-cn-2-podman-containers" class="md-skip"> Skip to content </a> </div> <div data-md-component="announce"> <aside class="md-banner"> <div class="md-banner__inner md-grid md-typeset"> Welcome to Automation Fast-Starts </div> </aside> </div> <header class="md-header md-header--shadow" data-md-component="header"> <nav class="md-header__inner md-grid" aria-label="Header"> <a href="../.." title="Automation Fast-Starts" class="md-header__button md-logo" aria-label="Automation Fast-Starts" data-md-component="logo"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M6.906.664a1.75 1.75 0 0 1 2.187 0l5.25 4.2c.415.332.657.835.657 1.367v7.019A1.75 1.75 0 0 1 13.25 15h-3.5a.75.75 0 0 1-.75-.75V9H7v5.25a.75.75 0 0 1-.75.75h-3.5A1.75 1.75 0 0 1 1 13.25V6.23c0-.531.242-1.034.657-1.366l5.25-4.2Zm1.25 1.171a.25.25 0 0 0-.312 0l-5.25 4.2a.25.25 0 0 0-.094.196v7.019c0 .138.112.25.25.25H5.5V8.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v5.25h2.75a.25.25 0 0 0 .25-.25V6.23a.25.25 0 0 0-.094-.195Z"></path></svg> </a> <label class="md-header__button md-icon" for="__drawer"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg> </label> <div class="md-header__title" data-md-component="header-title"> <div class="md-header__ellipsis"> <div class="md-header__topic"> <span class="md-ellipsis"> Automation Fast-Starts </span> </div> <div class="md-header__topic" data-md-component="header-topic"> <span class="md-ellipsis"> Lab CN 2 - Podman Containers </span> </div> </div> </div> <form class="md-header__option" data-md-component="palette"> <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo" aria-label="Switch to light mode" type="radio" name="__palette" id="__palette_0"> <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5"></path></svg> </label> <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo" aria-label="Switch to dark mode" type="radio" name="__palette" id="__palette_1"> <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"></path></svg> </label> <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo" aria-label="Switch to system preference" type="radio" name="__palette" id="__palette_2"> <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5M7 15a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"></path></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for="__search"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> </label> <div class="md-search" data-md-component="search" role="dialog"> <label class="md-search__overlay" for="__search"></label> <div class="md-search__inner" role="search"> <form class="md-search__form" name="search"> <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required> <label class="md-search__icon md-icon" for="__search"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </label> <nav class="md-search__options" aria-label="Search"> <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text data-md-component="search-share" tabindex="-1"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"></path></svg> </a> <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg> </button> </nav> <div class="md-search__suggest" data-md-component="search-suggest"></div> </form> <div class="md-search__output"> <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix> <div class="md-search-result" data-md-component="search-result"> <div class="md-search-result__meta"> Initializing search </div> <ol class="md-search-result__list" role="presentation"></ol> </div> </div> </div> </div> </div> <div class="md-header__source"> <a href="https://github.com/skol-candy/fast-start" title="Go to repository" class="md-source" data-md-component="source"> <div class="md-source__icon md-icon"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg> </div> <div class="md-source__repository"> skol-candy/fast-start </div> </a> </div> </nav> </header> <div class="md-container" data-md-component="container"> <main class="md-main" data-md-component="main"> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0"> <label class="md-nav__title" for="__drawer"> <a href="../.." title="Automation Fast-Starts" class="md-nav__button md-logo" aria-label="Automation Fast-Starts" data-md-component="logo"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M6.906.664a1.75 1.75 0 0 1 2.187 0l5.25 4.2c.415.332.657.835.657 1.367v7.019A1.75 1.75 0 0 1 13.25 15h-3.5a.75.75 0 0 1-.75-.75V9H7v5.25a.75.75 0 0 1-.75.75h-3.5A1.75 1.75 0 0 1 1 13.25V6.23c0-.531.242-1.034.657-1.366l5.25-4.2Zm1.25 1.171a.25.25 0 0 0-.312 0l-5.25 4.2a.25.25 0 0 0-.094.196v7.019c0 .138.112.25.25.25H5.5V8.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v5.25h2.75a.25.25 0 0 0 .25-.25V6.23a.25.25 0 0 0-.094-.195Z"></path></svg> </a> Automation Fast-Starts </label> <div class="md-nav__source"> <a href="https://github.com/skol-candy/fast-start" title="Go to repository" class="md-source" data-md-component="source"> <div class="md-source__icon md-icon"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg> </div> <div class="md-source__repository"> skol-candy/fast-start </div> </a> </div> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1"> <div class="md-nav__link md-nav__container"> <a href="../.." class="md-nav__link "> <span class="md-ellipsis"> Welcome </span> </a> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_1"> <span class="md-nav__icon md-icon"></span> Welcome </label> <ul class="md-nav__list" data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2"> <div class="md-nav__link md-nav__container"> <a href="../../ama-app-mod/" class="md-nav__link "> <span class="md-ellipsis"> App-Mod with AMA </span> </a> <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2"> <span class="md-nav__icon md-icon"></span> App-Mod with AMA </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../ama-app-mod/ama-install/" class="md-nav__link"> <span class="md-ellipsis"> AMA Installation </span> </a> </li> <li class="md-nav__item"> <a href="../../ama-app-mod/ama-run-scan/" class="md-nav__link"> <span class="md-ellipsis"> Scanning </span> </a> </li> <li class="md-nav__item"> <a href="../../ama-app-mod/ama-scan-results/" class="md-nav__link"> <span class="md-ellipsis"> Scan Results </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-content" data-md-component="content"> <article class="md-content__inner md-typeset"> <a href="https://github.com/skol-candy/fast-start/edit/master/docs/cn/podman.md" title="Edit this page" class="md-content__button md-icon" rel="edit"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"></path></svg> </a> <a href="https://github.com/skol-candy/fast-start/raw/master/docs/cn/podman.md" title="View source of this page" class="md-content__button md-icon"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"></path></svg> </a> <h1 id="lab-cn-2-podman-containers">Lab CN 2 - Podman Containers<a class="headerlink" href="#lab-cn-2-podman-containers" title="Permanent link">¶</a></h1> <p>In this lab, you will learn about how to use podman and how to run applications using podman. This lab will not explicitly give you the commands to progress through these exercises, but will show you a similar expected output.</p> <p><strong>It's your goal to create the commands needed (shown as &lt; command &gt; at each step) to complete the lab.</strong></p> <h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">¶</a></h2> <ul> <li>Create a <a href="https://quay.io/" target="_blank">Quay account</a>. This account is needed to push images to a container registry. Follow the <a href="https://quay.io/tutorial/" target="_blank">tutorial</a> to get familiar with interacting with Quay</li> <li>You need to install <a href="https://podman-desktop.io/" target="_blank">Podman Desktop</a> in your environment. Follow the instructions <a href="https://podman-desktop.io/docs/installation/macos-install" target="_blank">here</a> to install it on MacOS and <a href="https://podman-desktop.io/docs/installation/windows-install" target="_blank">here</a> to install it on Windows.</li> </ul> <h2 id="working-with-podman">Working with podman<a class="headerlink" href="#working-with-podman" title="Permanent link">¶</a></h2> <p>Before proceeding, make sure podman is properly installed on your system.</p> <ol> <li>Please verify your Podman by looking up the version.</li> </ol> <p>If it is installed, you will see a version number something similar to below.</p> <div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>$<span class="w"> </span>&lt;command&gt;
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>Client:<span class="w">       </span>Podman<span class="w"> </span>Engine
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>Version:<span class="w">      </span><span class="m">5</span>.3.0
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>API<span class="w"> </span>Version:<span class="w">  </span><span class="m">5</span>.3.0
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>Go<span class="w"> </span>Version:<span class="w">   </span>go1.23.3
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>Git<span class="w"> </span>Commit:<span class="w">   </span>874bf2c301ecf0ba645f1bb45f81966cc755b7da
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>Built:<span class="w">        </span>Wed<span class="w"> </span>Nov<span class="w"> </span><span class="m">13</span><span class="w"> </span><span class="m">03</span>:10:17<span class="w"> </span><span class="m">2024</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>OS/Arch:<span class="w">      </span>darwin/amd64
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>Server:<span class="w">       </span>Podman<span class="w"> </span>Engine
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>Version:<span class="w">      </span><span class="m">5</span>.2.2
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>API<span class="w"> </span>Version:<span class="w">  </span><span class="m">5</span>.2.2
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>Go<span class="w"> </span>Version:<span class="w">   </span>go1.22.6
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>Built:<span class="w">        </span>Wed<span class="w"> </span>Aug<span class="w"> </span><span class="m">21</span><span class="w"> </span><span class="m">10</span>:00:00<span class="w"> </span><span class="m">2024</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>OS/Arch:<span class="w">      </span>linux/amd64
</span></code></pre></div> <p><strong>Running a hello-world container</strong></p> <p>Let us start with a <code>hello-world</code> container.</p> <ol> <li>run a <code>hello-world</code> container.</li> </ol> <p>If it is successfully run, you will see something like below.</p> <div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>$<span class="w"> </span>&lt;command&gt;
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>Trying<span class="w"> </span>to<span class="w"> </span>pull<span class="w"> </span>quay.io/podman/hello:latest...
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>Getting<span class="w"> </span>image<span class="w"> </span><span class="nb">source</span><span class="w"> </span>signatures
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>Copying<span class="w"> </span>blob<span class="w"> </span>sha256:81df7ff16254ed9756e27c8de9ceb02a9568228fccadbf080f41cc5eb5118a44
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>Copying<span class="w"> </span>config<span class="w"> </span>sha256:5dd467fce50b56951185da365b5feee75409968cbab5767b9b59e325fb2ecbc0
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>Writing<span class="w"> </span>manifest<span class="w"> </span>to<span class="w"> </span>image<span class="w"> </span>destination
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>!...<span class="w"> </span>Hello<span class="w"> </span>Podman<span class="w"> </span>World<span class="w"> </span>...!
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="w">         </span>.--<span class="s2">"--.           </span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="s2">       / -     - \         </span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="s2">      / (O)   (O) \        </span>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="s2">   ~~~| -=(,Y,)=- |         </span>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="s2">    .---. /`  \   |~~      </span>
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a><span class="s2"> ~/  o  o \~~~~.----. ~~   </span>
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a><span class="s2">  | =(X)= |~  / (O (O) \   </span>
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a><span class="s2">   ~~~~~~~  ~| =(Y_)=-  |   </span>
</span><span id="__span-1-17"><a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a><span class="s2">  ~~~~    ~~~|   U      |~~ </span>
</span><span id="__span-1-18"><a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a>
</span><span id="__span-1-19"><a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a><span class="s2">Project:   https://github.com/containers/podman</span>
</span><span id="__span-1-20"><a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a><span class="s2">Website:   https://podman.io</span>
</span><span id="__span-1-21"><a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a><span class="s2">Desktop:   https://podman-desktop.io</span>
</span><span id="__span-1-22"><a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a><span class="s2">Documents: https://docs.podman.io</span>
</span><span id="__span-1-23"><a id="__codelineno-1-23" name="__codelineno-1-23" href="#__codelineno-1-23"></a><span class="s2">YouTube:   https://youtube.com/@Podman</span>
</span><span id="__span-1-24"><a id="__codelineno-1-24" name="__codelineno-1-24" href="#__codelineno-1-24"></a><span class="s2">X/Twitter: @Podman_io</span>
</span><span id="__span-1-25"><a id="__codelineno-1-25" name="__codelineno-1-25" href="#__codelineno-1-25"></a><span class="s2">Mastodon:  @Podman_io@fosstodon.org</span>
</span></code></pre></div> <p>Since, <code>hello-world</code> image is not existing locally, it is pulled from <code>podman/hello</code>. But if it is already existing, podman will not pull it every time but rather use the existing one.</p> <p>This image is pulled from <a href="https://quay.io/repository/podman/hello">https://quay.io/repository/podman/hello</a>?. Quay.io is a repository used to store container images. Similarly, you can use your own registries to store images.</p> <p><strong>Verifying the hello-world image</strong></p> <ol> <li>Now verify if an image is existing in your system locally.</li> </ol> <p>You will then see something like below.</p> <div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>$<span class="w"> </span>&lt;command&gt;
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>REPOSITORY<span class="w">                              </span>TAG<span class="w">         </span>IMAGE<span class="w"> </span>ID<span class="w">      </span>CREATED<span class="w">       </span>SIZE
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>quay.io/podman/hello<span class="w">                    </span>latest<span class="w">      </span>5dd467fce50b<span class="w">  </span><span class="m">6</span><span class="w"> </span>months<span class="w"> </span>ago<span class="w">  </span><span class="m">787</span><span class="w"> </span>kB
</span></code></pre></div> <h2 id="get-the-sample-application">Get the sample application<a class="headerlink" href="#get-the-sample-application" title="Permanent link">¶</a></h2> <p>To get the sample application, you will need to clone it from github.</p> <div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1"># Clone the sample app</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/ibm-cloud-architecture/cloudnative_sample_app.git
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="c1"># Go to the project's root folder</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="nb">cd</span><span class="w"> </span>cloudnative_sample_app/
</span></code></pre></div> <h2 id="run-the-application-on-podman">Run the application on Podman<a class="headerlink" href="#run-the-application-on-podman" title="Permanent link">¶</a></h2> <blockquote> <p><img alt="⚠" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/26a0.svg" title=":warning:"> If you are looking to build this application on Apple Silicon, these instructions <strong>will not work</strong>! Look out for this symbol - <img alt="🍎" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f34e.svg" title=":apple:"> - in the below instructions if you get stuck!</p> </blockquote> <h3 id="build-the-container-image">Build the container image<a class="headerlink" href="#build-the-container-image" title="Permanent link">¶</a></h3> <p>Let's take look at the Containerfile, sometimes referred to as a Dockerfile before building it.</p> <div class="language-sh highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>FROM<span class="w"> </span>maven:3.3-jdk-8<span class="w"> </span>as<span class="w"> </span>builder
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>COPY<span class="w"> </span>.<span class="w"> </span>.
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>RUN<span class="w"> </span>mvn<span class="w"> </span>clean<span class="w"> </span>install
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>FROM<span class="w"> </span>openliberty/open-liberty:springBoot2-ubi-min<span class="w"> </span>as<span class="w"> </span>staging
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>COPY<span class="w"> </span>--chown<span class="o">=</span><span class="m">1001</span>:0<span class="w"> </span>--from<span class="o">=</span>builder<span class="w"> </span>/target/cloudnativesampleapp-1.0-SNAPSHOT.jar<span class="w"> </span>/config/app.jar
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>RUN<span class="w"> </span>springBootUtility<span class="w"> </span>thin<span class="w"> </span><span class="se">\</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="w">    </span>--sourceAppPath<span class="o">=</span>/config/app.jar<span class="w"> </span><span class="se">\</span>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="w">    </span>--targetThinAppPath<span class="o">=</span>/config/dropins/spring/thinClinic.jar<span class="w"> </span><span class="se">\</span>
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="w">    </span>--targetLibCachePath<span class="o">=</span>/opt/ol/wlp/usr/shared/resources/lib.index.cache
</span></code></pre></div> <ul> <li>Using the <code>FROM</code> instruction, we provide the name and tag of an image that should be used as our base. This must always be the first instruction in the Containerfile.</li> <li>Using <code>COPY</code> instruction, we copy new contents from the source filesystem to the container filesystem.</li> <li><code>RUN</code> instruction executes the commands.</li> </ul> <p>This Containerfile leverages multi-stage builds, which lets you create multiple stages in your Dockerfile to do certain tasks.</p> <p>In our case, we have two stages.</p> <ul> <li>The first one uses <code>maven:3.3-jdk-8</code> as its base image to download and build the project and its dependencies using Maven.</li> <li>The second stage uses <code>openliberty/open-liberty:springBoot2-ubi-min</code> as its base image to run the compiled code from the previous stage.</li> </ul> <p>The advantage of using the multi-stage builds approach is that the resulting image only uses the base image of the last stage. Meaning that in our case, we will only end up with the <code>openliberty/open-liberty:springBoot2-ubi-min</code> as our base image, which is much tinier than having an image that has both Maven and the JRE.</p> <p>By using the multi-stage builds approach when it makes sense to use it, you will end up with much lighter and easier to maintain images, which can save you space on your Container Registry. Also, having tinier images usually means less resource consumption on your worker nodes, which can result cost-savings.</p> <p>Once, you have the Containerfile ready, the next step is to build it. The <code>build</code> command allows you to build a image which you can later run as a container.</p> <ol> <li>Build the Containerfile with the <code>image_name</code> of <code>greeting</code> and give it a <code>image_tag</code> of <code>v1.0.0</code> and build it using the current context.</li> </ol> <p>You will see something like below:</p> <div class="language-text highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>    $ &lt;command&gt;
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>    Step 1/6 : FROM maven:3.3-jdk-8 as builder
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>    ---&gt; 9997d8483b2f
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>    Step 2/6 : COPY . .
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>    ---&gt; c198e3e54023
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>    Step 3/6 : RUN mvn clean install
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>    ---&gt; Running in 24378df7f87b
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>    [INFO] Scanning for projects...
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>    .
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>    .
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>    .
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>    [INFO] Installing /target/cloudnativesampleapp-1.0-SNAPSHOT.jar to /root/.m2/repository/projects/cloudnativesampleapp/1.0-SNAPSHOT/cloudnativesampleapp-1.0-SNAPSHOT.jar
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a>    [INFO] Installing /pom.xml to /root/.m2/repository/projects/cloudnativesampleapp/1.0-SNAPSHOT/cloudnativesampleapp-1.0-SNAPSHOT.pom
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>    [INFO] ------------------------------------------------------------------------
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a>    [INFO] BUILD SUCCESS
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a>    [INFO] ------------------------------------------------------------------------
</span><span id="__span-5-17"><a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a>    [INFO] Total time: 44.619 s
</span><span id="__span-5-18"><a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a>    [INFO] Finished at: 2020-04-06T16:07:04+00:00
</span><span id="__span-5-19"><a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a>    [INFO] Final Memory: 38M/385M
</span><span id="__span-5-20"><a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a>    [INFO] ------------------------------------------------------------------------
</span><span id="__span-5-21"><a id="__codelineno-5-21" name="__codelineno-5-21" href="#__codelineno-5-21"></a>    Removing intermediate container 24378df7f87b
</span><span id="__span-5-22"><a id="__codelineno-5-22" name="__codelineno-5-22" href="#__codelineno-5-22"></a>    ---&gt; cc5620334e1b
</span><span id="__span-5-23"><a id="__codelineno-5-23" name="__codelineno-5-23" href="#__codelineno-5-23"></a>    Step 4/6 : FROM openliberty/open-liberty:springBoot2-ubi-min as staging
</span><span id="__span-5-24"><a id="__codelineno-5-24" name="__codelineno-5-24" href="#__codelineno-5-24"></a>    ---&gt; 021530b0b3cb
</span><span id="__span-5-25"><a id="__codelineno-5-25" name="__codelineno-5-25" href="#__codelineno-5-25"></a>    Step 5/6 : COPY --chown=1001:0 --from=builder /target/cloudnativesampleapp-1.0-SNAPSHOT.jar /config/app.jar
</span><span id="__span-5-26"><a id="__codelineno-5-26" name="__codelineno-5-26" href="#__codelineno-5-26"></a>    ---&gt; dbc81e5f4691
</span><span id="__span-5-27"><a id="__codelineno-5-27" name="__codelineno-5-27" href="#__codelineno-5-27"></a>    Step 6/6 : RUN springBootUtility thin     --sourceAppPath=/config/app.jar     --targetThinAppPath=/config/dropins/spring/thinClinic.jar     --targetLibCachePath=/opt/ol/wlp/usr/shared/resources/lib.index.cache
</span><span id="__span-5-28"><a id="__codelineno-5-28" name="__codelineno-5-28" href="#__codelineno-5-28"></a>    ---&gt; Running in 8ea80b5863cb
</span><span id="__span-5-29"><a id="__codelineno-5-29" name="__codelineno-5-29" href="#__codelineno-5-29"></a>    Creating a thin application from: /config/app.jar
</span><span id="__span-5-30"><a id="__codelineno-5-30" name="__codelineno-5-30" href="#__codelineno-5-30"></a>    Library cache: /opt/ol/wlp/usr/shared/resources/lib.index.cache
</span><span id="__span-5-31"><a id="__codelineno-5-31" name="__codelineno-5-31" href="#__codelineno-5-31"></a>    Thin application: /config/dropins/spring/thinClinic.jar
</span><span id="__span-5-32"><a id="__codelineno-5-32" name="__codelineno-5-32" href="#__codelineno-5-32"></a>    Removing intermediate container 8ea80b5863cb
</span><span id="__span-5-33"><a id="__codelineno-5-33" name="__codelineno-5-33" href="#__codelineno-5-33"></a>    ---&gt; a935a129dcb2
</span><span id="__span-5-34"><a id="__codelineno-5-34" name="__codelineno-5-34" href="#__codelineno-5-34"></a>    Successfully built a935a129dcb2
</span><span id="__span-5-35"><a id="__codelineno-5-35" name="__codelineno-5-35" href="#__codelineno-5-35"></a>    Successfully tagged greeting:v1.0.0
</span></code></pre></div> <hr> <p><strong><img alt="🍎" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f34e.svg" title=":apple:"> (Apple Silicon only) My build failed!</strong></p> <p>If running on M1, you will encounter the following error(s) while building this container image: </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="o">[</span><span class="m">1</span>/2<span class="o">]</span><span class="w"> </span>STEP<span class="w"> </span><span class="m">1</span>/3:<span class="w"> </span>FROM<span class="w"> </span>maven:3.3-jdk-8<span class="w"> </span>AS<span class="w"> </span>builder
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>WARNING:<span class="w"> </span>image<span class="w"> </span>platform<span class="w"> </span><span class="o">(</span>linux/amd64<span class="o">)</span><span class="w"> </span>does<span class="w"> </span>not<span class="w"> </span>match<span class="w"> </span>the<span class="w"> </span>expected<span class="w"> </span>platform<span class="w"> </span><span class="o">(</span>linux/arm64<span class="o">)</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>&lt;output<span class="w"> </span>continues...&gt;
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="o">[</span><span class="m">2</span>/2<span class="o">]</span><span class="w"> </span>STEP<span class="w"> </span><span class="m">1</span>/3:<span class="w"> </span>FROM<span class="w"> </span>openliberty/open-liberty:springBoot2-ubi-min<span class="w"> </span>AS<span class="w"> </span>staging
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>Resolving<span class="w"> </span><span class="s2">"openliberty/open-liberty"</span><span class="w"> </span>using<span class="w"> </span>unqualified-search<span class="w"> </span>registries<span class="w"> </span><span class="o">(</span>/etc/containers/registries.conf.d/999-podman-machine.conf<span class="o">)</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>Trying<span class="w"> </span>to<span class="w"> </span>pull<span class="w"> </span>docker.io/openliberty/open-liberty:springBoot2-ubi-min...
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>Error:<span class="w"> </span>creating<span class="w"> </span>build<span class="w"> </span>container:<span class="w"> </span>choosing<span class="w"> </span>an<span class="w"> </span>image<span class="w"> </span>from<span class="w"> </span>manifest<span class="w"> </span>list<span class="w"> </span>docker://openliberty/open-liberty:springBoot2-ubi-min:<span class="w"> </span>no<span class="w"> </span>image<span class="w"> </span>found<span class="w"> </span><span class="k">in</span><span class="w"> </span>manifest<span class="w"> </span>list<span class="w"> </span><span class="k">for</span><span class="w"> </span>architecture<span class="w"> </span><span class="s2">"arm64"</span>,<span class="w"> </span>variant<span class="w"> </span><span class="s2">"v8"</span>,<span class="w"> </span>OS<span class="w"> </span><span class="s2">"linux"</span>
</span></code></pre></div> In the output above, podman is telling us that the build fails as the base image used by this Containerfile does not support arm64 architectures. <p></p> <p>Try to fix the error yourself. Here are a couple of tips: 1. Base images quickly become outdated and stale. <a href="https://hub.docker.com/" target="_blank">Try searching <code>Dockerhub</code></a> 2. If you are unfamiliar with running a Java <code>.jar</code> file (lucky you!), have a look at this blog: <a href="https://spring.io/guides/gs/spring-boot-docker">https://spring.io/guides/gs/spring-boot-docker</a></p> <p>If you are <strong>really</strong> stuck, <a href="https://github.com/SamChinellato/cloudnative_sample_app" target="_blank">here</a> is repository with an updated Dockerfile.</p> <p><strong>Apple Silicon only END</strong></p> <hr> <ol> <li>Next, verify your newly built image</li> </ol> <p>The output will be as follows.</p> <div class="language-bash highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>$<span class="w"> </span>&lt;command&gt;
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>REPOSITORY<span class="w">                              </span>TAG<span class="w">                  </span>IMAGE<span class="w"> </span>ID<span class="w">      </span>CREATED<span class="w">         </span>SIZE
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>quay.io/benswinney-ibm/greeting<span class="w">         </span>v1.0.0<span class="w">               </span>7674fa09c091<span class="w">  </span><span class="m">8</span><span class="w"> </span>seconds<span class="w"> </span>ago<span class="w">   </span><span class="m">542</span><span class="w"> </span>MB
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>quay.io/podman/hello<span class="w">                    </span>latest<span class="w">               </span>5dd467fce50b<span class="w">  </span><span class="m">6</span><span class="w"> </span>months<span class="w"> </span>ago<span class="w">    </span><span class="m">787</span><span class="w"> </span>kB
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>docker.io/openliberty/open-liberty<span class="w">      </span>springBoot2-ubi-min<span class="w">  </span>021530b0b3cb<span class="w">  </span><span class="m">5</span><span class="w"> </span>years<span class="w"> </span>ago<span class="w">     </span><span class="m">486</span><span class="w"> </span>MB
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>docker.io/library/maven<span class="w">                 </span><span class="m">3</span>.3-jdk-8<span class="w">            </span>9997d8483b2f<span class="w">  </span><span class="m">7</span><span class="w"> </span>years<span class="w"> </span>ago<span class="w">     </span><span class="m">669</span><span class="w"> </span>MB
</span></code></pre></div> <h3 id="run-the-podman-container">Run the podman container<a class="headerlink" href="#run-the-podman-container" title="Permanent link">¶</a></h3> <p>Now let's try running the podman container. Run it with the following parameters:</p> <ol> <li>Expose port <code>9080</code>. Run it in the background in detached mode. Give the container the name of <code>greeting</code>.</li> </ol> <p>Once done, you will have something like below.</p> <div class="language-bash highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>$<span class="w"> </span>&lt;command&gt;
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>bc2dc95a6bd1f51a226b291999da9031f4443096c1462cb3fead3df36613b753
</span></code></pre></div> <p>Also, podman cannot create two containers with the same name. If you try to run the same container having the same name again, you will see something like below.</p> <div class="language-bash highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>$<span class="w"> </span>&lt;command&gt;
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>podman:<span class="w"> </span>Error<span class="w"> </span>response<span class="w"> </span>from<span class="w"> </span>daemon:<span class="w"> </span>Conflict.<span class="w"> </span>The<span class="w"> </span>container<span class="w"> </span>name<span class="w"> </span><span class="s2">"/greeting"</span><span class="w"> </span>is<span class="w"> </span>already<span class="w"> </span><span class="k">in</span><span class="w"> </span>use<span class="w"> </span>by<span class="w"> </span>container<span class="w"> </span><span class="s2">"a74b91789b29af6e7be92b30d0e68eef852bfb24336a44ef1485bb58becbd664"</span>.<span class="w"> </span>You<span class="w"> </span>have<span class="w"> </span>to<span class="w"> </span>remove<span class="w"> </span><span class="o">(</span>or<span class="w"> </span>rename<span class="o">)</span><span class="w"> </span>that<span class="w"> </span>container<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>able<span class="w"> </span>to<span class="w"> </span>reuse<span class="w"> </span>that<span class="w"> </span>name.
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>See<span class="w"> </span><span class="s1">'podman run --help'</span>.
</span></code></pre></div> <p>It is a good practice to name your containers. Naming helps you to discover your service easily.</p> <ol> <li>List all the running containers.</li> </ol> <p>You will see something like below.</p> <div class="language-bash highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>$<span class="w"> </span>&lt;command&gt;
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>CONTAINER<span class="w"> </span>ID<span class="w">        </span>IMAGE<span class="w">               </span>COMMAND<span class="w">                  </span>CREATED<span class="w">             </span>STATUS<span class="w">              </span>PORTS<span class="w">                              </span>NAMES
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>bc2dc95a6bd1<span class="w">        </span>greeting:v1.0.0<span class="w">     </span><span class="s2">"/opt/ol/helpers/run…"</span><span class="w">   </span><span class="m">18</span><span class="w"> </span>minutes<span class="w"> </span>ago<span class="w">      </span>Up<span class="w"> </span><span class="m">18</span><span class="w"> </span>minutes<span class="w">       </span><span class="m">0</span>.0.0.0:9080-&gt;9080/tcp,<span class="w"> </span><span class="m">9443</span>/tcp<span class="w">   </span>greeting
</span></code></pre></div> <ol> <li>Let's inspect the running container.</li> </ol> <p>By inspecting the container, you can access detailed information about the container. By using this command, you get to know the details about network settings, volumes, configs, state etc.</p> <p>If we consider our container, it is as follows. You can see lot of information about the <code>greeting</code> container.</p> <div class="language-json highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="err">$</span><span class="w"> </span><span class="err">&lt;comma</span><span class="kc">n</span><span class="err">d&gt;</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="p">[</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="w">     </span><span class="p">{</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="w">          </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7674fa09c09194abc3641e913b8ef9127658921e01a07cccbd26e74031f30784"</span><span class="p">,</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="w">          </span><span class="nt">"Digest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sha256:ef292f1f1e573e46b140cce57a4da269c231f7bba4352a4c066bc6313edabb7c"</span><span class="p">,</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="w">          </span><span class="nt">"RepoTags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="w">               </span><span class="s2">"quay.io/benswinney-ibm/greeting:v1.0.0"</span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="w">          </span><span class="p">],</span>
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="w">          </span><span class="nt">"RepoDigests"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="w">               </span><span class="s2">"quay.io/benswinney-ibm/greeting@sha256:ef292f1f1e573e46b140cce57a4da269c231f7bba4352a4c066bc6313edabb7c"</span>
</span><span id="__span-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="w">          </span><span class="p">],</span>
</span><span id="__span-11-12"><a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a><span class="w">          </span><span class="nt">"Parent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"08b3dcd861a5b3a854cf9361120f6f68f0608ef855027108c8f67e2b7db06d09"</span><span class="p">,</span>
</span><span id="__span-11-13"><a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a><span class="w">          </span><span class="nt">"Comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Imported from -"</span><span class="p">,</span>
</span><span id="__span-11-14"><a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a><span class="w">          </span><span class="nt">"Created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-25T05:31:04.216084457Z"</span><span class="p">,</span>
</span><span id="__span-11-15"><a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a><span class="w">          </span><span class="nt">"Config"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-11-16"><a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a><span class="w">               </span><span class="nt">"User"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1001"</span><span class="p">,</span>
</span><span id="__span-11-17"><a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a><span class="w">               </span><span class="nt">"ExposedPorts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-11-18"><a id="__codelineno-11-18" name="__codelineno-11-18" href="#__codelineno-11-18"></a><span class="w">                    </span><span class="nt">"9080/tcp"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
</span><span id="__span-11-19"><a id="__codelineno-11-19" name="__codelineno-11-19" href="#__codelineno-11-19"></a><span class="w">                    </span><span class="nt">"9443/tcp"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-11-20"><a id="__codelineno-11-20" name="__codelineno-11-20" href="#__codelineno-11-20"></a><span class="w">               </span><span class="p">},</span>
</span><span id="__span-11-21"><a id="__codelineno-11-21" name="__codelineno-11-21" href="#__codelineno-11-21"></a><span class="w">               </span><span class="nt">"Env"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-11-22"><a id="__codelineno-11-22" name="__codelineno-11-22" href="#__codelineno-11-22"></a><span class="w">                    </span><span class="s2">"PATH=/opt/ol/wlp/bin:/opt/ol/docker/:/opt/ol/helpers/build:/opt/ibm/java/jre/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"</span><span class="p">,</span>
</span><span id="__span-11-23"><a id="__codelineno-11-23" name="__codelineno-11-23" href="#__codelineno-11-23"></a><span class="w">                    </span><span class="s2">"container=oci"</span><span class="p">,</span>
</span><span id="__span-11-24"><a id="__codelineno-11-24" name="__codelineno-11-24" href="#__codelineno-11-24"></a><span class="w">                    </span><span class="s2">"JAVA_VERSION=1.8.0_sr5fp40"</span><span class="p">,</span>
</span><span id="__span-11-25"><a id="__codelineno-11-25" name="__codelineno-11-25" href="#__codelineno-11-25"></a><span class="w">                    </span><span class="s2">"JAVA_HOME=/opt/ibm/java/jre"</span><span class="p">,</span>
</span><span id="__span-11-26"><a id="__codelineno-11-26" name="__codelineno-11-26" href="#__codelineno-11-26"></a><span class="w">                    </span><span class="s2">"IBM_JAVA_OPTIONS=-Xshareclasses:name=liberty,nonfatal,cacheDir=/output/.classCache/ -XX:+UseContainerSupport"</span><span class="p">,</span>
</span><span id="__span-11-27"><a id="__codelineno-11-27" name="__codelineno-11-27" href="#__codelineno-11-27"></a><span class="w">                    </span><span class="s2">"LOG_DIR=/logs"</span><span class="p">,</span>
</span><span id="__span-11-28"><a id="__codelineno-11-28" name="__codelineno-11-28" href="#__codelineno-11-28"></a><span class="w">                    </span><span class="s2">"WLP_OUTPUT_DIR=/opt/ol/wlp/output"</span><span class="p">,</span>
</span><span id="__span-11-29"><a id="__codelineno-11-29" name="__codelineno-11-29" href="#__codelineno-11-29"></a><span class="w">                    </span><span class="s2">"WLP_SKIP_MAXPERMSIZE=true"</span><span class="p">,</span>
</span><span id="__span-11-30"><a id="__codelineno-11-30" name="__codelineno-11-30" href="#__codelineno-11-30"></a><span class="w">                    </span><span class="s2">"RANDFILE=/tmp/.rnd"</span>
</span><span id="__span-11-31"><a id="__codelineno-11-31" name="__codelineno-11-31" href="#__codelineno-11-31"></a><span class="w">               </span><span class="p">],</span>
</span><span id="__span-11-32"><a id="__codelineno-11-32" name="__codelineno-11-32" href="#__codelineno-11-32"></a><span class="w">        </span><span class="err">..........</span>
</span><span id="__span-11-33"><a id="__codelineno-11-33" name="__codelineno-11-33" href="#__codelineno-11-33"></a><span class="w">        </span><span class="err">..........</span>
</span><span id="__span-11-34"><a id="__codelineno-11-34" name="__codelineno-11-34" href="#__codelineno-11-34"></a><span class="w">        </span><span class="err">..........</span>
</span><span id="__span-11-35"><a id="__codelineno-11-35" name="__codelineno-11-35" href="#__codelineno-11-35"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-11-36"><a id="__codelineno-11-36" name="__codelineno-11-36" href="#__codelineno-11-36"></a><span class="p">]</span>
</span></code></pre></div> <ol> <li>Get the logs of the <code>greeting</code> container.</li> </ol> <p>It helps you to access the logs of your container. It allows you to debug the container if it fails. It also lets you to know what is happening with your application.</p> <p>At the end, you will see something like below.</p> <div class="language-bash highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>$<span class="w"> </span>&lt;command&gt;
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>.<span class="w">   </span>____<span class="w">          </span>_<span class="w">            </span>__<span class="w"> </span>_<span class="w"> </span>_
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>/<span class="se">\\</span><span class="w"> </span>/<span class="w"> </span>___<span class="s1">'_ __ _ _(_)_ __  __ _ \ \ \ \</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="s1">( ( )\___ | '</span>_<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="s1">'_| | '</span>_<span class="w"> </span><span class="se">\/</span><span class="w"> </span>_<span class="sb">`</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\ \ \ \</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="se">\\</span>/<span class="w">  </span>___<span class="o">)</span><span class="p">|</span><span class="w"> </span><span class="p">|</span>_<span class="o">)</span><span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">(</span>_<span class="p">|</span><span class="w"> </span><span class="p">|</span><span class="w">  </span><span class="o">)</span><span class="w"> </span><span class="o">)</span><span class="w"> </span><span class="o">)</span><span class="w"> </span><span class="o">)</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="s1">'  |____| .__|_| |_|_| |_\__, | / / / /</span>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="s1">=========|_|==============|___/=/_/_/_/</span>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="s1">:: Spring Boot ::        (v2.1.7.RELEASE)</span>
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="s1">2019-08-30 16:57:01.494  INFO 1 --- [ecutor-thread-5] application.SBApplication                : Starting SBApplication on bc2dc95a6bd1 with PID 1 (/opt/ol/wlp/usr/servers/defaultServer/dropins/spring/thinClinic.jar started by default in /opt/ol/wlp/output/defaultServer)</span>
</span><span id="__span-12-10"><a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="s1">2019-08-30 16:57:01.601  INFO 1 --- [ecutor-thread-5] application.SBApplication                : No active profile set, falling back to default profiles: default</span>
</span><span id="__span-12-11"><a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="s1">[AUDIT   ] CWWKT0016I: Web application available (default_host): http://bc2dc95a6bd1:9080/</span>
</span><span id="__span-12-12"><a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="s1">2019-08-30 16:57:09.641  INFO 1 --- [cutor-thread-25] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 7672 ms</span>
</span><span id="__span-12-13"><a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a><span class="s1">2019-08-30 16:57:12.279  INFO 1 --- [ecutor-thread-5] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 15 endpoint(s) beneath base path '</span>/actuator<span class="s1">'</span>
</span><span id="__span-12-14"><a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a><span class="s1">2019-08-30 16:57:12.974  INFO 1 --- [ecutor-thread-5] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService '</span>applicationTaskExecutor<span class="err">'</span>
</span><span id="__span-12-15"><a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a><span class="m">2019</span>-08-30<span class="w"> </span><span class="m">16</span>:57:13.860<span class="w">  </span>INFO<span class="w"> </span><span class="m">1</span><span class="w"> </span>---<span class="w"> </span><span class="o">[</span>ecutor-thread-5<span class="o">]</span><span class="w"> </span>d.s.w.p.DocumentationPluginsBootstrapper<span class="w"> </span>:<span class="w"> </span>Context<span class="w"> </span>refreshed
</span><span id="__span-12-16"><a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a><span class="m">2019</span>-08-30<span class="w"> </span><span class="m">16</span>:57:13.961<span class="w">  </span>INFO<span class="w"> </span><span class="m">1</span><span class="w"> </span>---<span class="w"> </span><span class="o">[</span>ecutor-thread-5<span class="o">]</span><span class="w"> </span>d.s.w.p.DocumentationPluginsBootstrapper<span class="w"> </span>:<span class="w"> </span>Found<span class="w"> </span><span class="m">1</span><span class="w"> </span>custom<span class="w"> </span>documentation<span class="w"> </span>plugin<span class="o">(</span>s<span class="o">)</span>
</span><span id="__span-12-17"><a id="__codelineno-12-17" name="__codelineno-12-17" href="#__codelineno-12-17"></a><span class="m">2019</span>-08-30<span class="w"> </span><span class="m">16</span>:57:14.020<span class="w">  </span>INFO<span class="w"> </span><span class="m">1</span><span class="w"> </span>---<span class="w"> </span><span class="o">[</span>ecutor-thread-5<span class="o">]</span><span class="w"> </span>s.d.s.w.s.ApiListingReferenceScanner<span class="w">     </span>:<span class="w"> </span>Scanning<span class="w"> </span><span class="k">for</span><span class="w"> </span>api<span class="w"> </span>listing<span class="w"> </span>references
</span><span id="__span-12-18"><a id="__codelineno-12-18" name="__codelineno-12-18" href="#__codelineno-12-18"></a><span class="m">2019</span>-08-30<span class="w"> </span><span class="m">16</span>:57:14.504<span class="w">  </span>INFO<span class="w"> </span><span class="m">1</span><span class="w"> </span>---<span class="w"> </span><span class="o">[</span>ecutor-thread-5<span class="o">]</span><span class="w"> </span>application.SBApplication<span class="w">                </span>:<span class="w"> </span>Started<span class="w"> </span>SBApplication<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">17</span>.584<span class="w"> </span>seconds<span class="w"> </span><span class="o">(</span>JVM<span class="w"> </span>running<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">33</span>.368<span class="o">)</span>
</span><span id="__span-12-19"><a id="__codelineno-12-19" name="__codelineno-12-19" href="#__codelineno-12-19"></a><span class="o">[</span>AUDIT<span class="w">   </span><span class="o">]</span><span class="w"> </span>CWWKZ0001I:<span class="w"> </span>Application<span class="w"> </span>thinClinic<span class="w"> </span>started<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">21</span>.090<span class="w"> </span>seconds.
</span><span id="__span-12-20"><a id="__codelineno-12-20" name="__codelineno-12-20" href="#__codelineno-12-20"></a><span class="o">[</span>AUDIT<span class="w">   </span><span class="o">]</span><span class="w"> </span>CWWKF0012I:<span class="w"> </span>The<span class="w"> </span>server<span class="w"> </span>installed<span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span>features:<span class="w"> </span><span class="o">[</span>el-3.0,<span class="w"> </span>jsp-2.3,<span class="w"> </span>servlet-4.0,<span class="w"> </span>springBoot-2.0,<span class="w"> </span>ssl-1.0,<span class="w"> </span>transportSecurity-1.0,<span class="w"> </span>websocket-1.1<span class="o">]</span>.
</span><span id="__span-12-21"><a id="__codelineno-12-21" name="__codelineno-12-21" href="#__codelineno-12-21"></a><span class="o">[</span>AUDIT<span class="w">   </span><span class="o">]</span><span class="w"> </span>CWWKF0011I:<span class="w"> </span>The<span class="w"> </span>defaultServer<span class="w"> </span>server<span class="w"> </span>is<span class="w"> </span>ready<span class="w"> </span>to<span class="w"> </span>run<span class="w"> </span>a<span class="w"> </span>smarter<span class="w"> </span>planet.<span class="w"> </span>The<span class="w"> </span>defaultServer<span class="w"> </span>server<span class="w"> </span>started<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">33</span>.103<span class="w"> </span>seconds.
</span></code></pre></div> <p>This shows that the Spring Boot application is successfully started.</p> <h3 id="access-the-application">Access the application<a class="headerlink" href="#access-the-application" title="Permanent link">¶</a></h3> <ul> <li>To access the application, open the browser and access <a href="http://localhost:9080/greeting?name=John">http://localhost:9080/greeting?name=John</a>.</li> </ul> <hr> <p><strong><img alt="🍎" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f34e.svg" title=":apple:"> (Apple silicon only) My application isn't working!</strong></p> <p>If you used the Apple Silicon Dockerfile provided, your application is not running on port 9080. Look at application logs and expose the right port, or...</p> <details><summary><b>Cheat and get the answer now</b></summary> Port 8080 </details> <p><strong>Apple Silicon only END</strong></p> <hr> <p>You will see something like below.</p> <div class="language-bash highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="o">{</span><span class="s2">"id"</span>:2,<span class="s2">"content"</span>:<span class="s2">"Welcome to Cloudnative bootcamp !!! Hello, John :)"</span><span class="o">}</span>
</span></code></pre></div> <p><strong>Container Image Registry</strong></p> <p>Container Image Registry is a place where you can store the container images. They can be public or private registries. They can be hosted by third party as well. In this lab, we are using Quay.</p> <h3 id="pushing-an-image-to-a-registry">Pushing an image to a Registry<a class="headerlink" href="#pushing-an-image-to-a-registry" title="Permanent link">¶</a></h3> <p>Let us now push the image to the Quay registry. Before pushing the image to the registry, one needs to login.</p> <ol> <li>Login to Quay using your credentials.</li> </ol> <p>Once logged in we need to take the image for the registry.</p> <ol> <li> <p>Tag your image for the image registry using the <code>same name and tag from before</code>. Be sure to include the host name of the target image registry in the destination tag (e.g. quay.io). <em>NOTE: the tag command has both the source tag and repository destination tag in it.</em></p> </li> <li> <p>Now push the image to the registry. This allows you to share images to a registry.</p> </li> </ol> <p>If everything goes fine, you will see something like below.</p> <div class="language-bash highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>$<span class="w"> </span>&lt;command&gt;
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>The<span class="w"> </span>push<span class="w"> </span>refers<span class="w"> </span>to<span class="w"> </span>repository<span class="w"> </span><span class="o">[</span>quay.io/&lt;repository_name&gt;/greeting<span class="o">]</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>2e4d09cd03a2:<span class="w"> </span>Pushed
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>d862b7819235:<span class="w"> </span>Pushed
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>a9212239031e:<span class="w"> </span>Pushed
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>4be784548734:<span class="w"> </span>Pushed
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>a43c287826a1:<span class="w"> </span>Mounted<span class="w"> </span>from<span class="w"> </span>library/ibmjava
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a>e936f9f1df3e:<span class="w"> </span>Mounted<span class="w"> </span>from<span class="w"> </span>library/ibmjava
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a>92d3f22d44f3:<span class="w"> </span>Mounted<span class="w"> </span>from<span class="w"> </span>library/ibmjava
</span><span id="__span-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a>10e46f329a25:<span class="w"> </span>Mounted<span class="w"> </span>from<span class="w"> </span>library/ibmjava
</span><span id="__span-14-11"><a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a>24ab7de5faec:<span class="w"> </span>Mounted<span class="w"> </span>from<span class="w"> </span>library/ibmjava
</span><span id="__span-14-12"><a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a>1ea5a27b0484:<span class="w"> </span>Mounted<span class="w"> </span>from<span class="w"> </span>library/ibmjava
</span><span id="__span-14-13"><a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a>v1.0.0:<span class="w"> </span>digest:<span class="w"> </span>sha256:21c2034646a31a18b053546df00d9ce2e0871bafcdf764f872a318a54562e6b4<span class="w"> </span>size:<span class="w"> </span><span class="m">2415</span>
</span></code></pre></div> <p>Once the push is successful, your image will be residing in the registry.</p> <h3 id="clean-up">Clean Up<a class="headerlink" href="#clean-up" title="Permanent link">¶</a></h3> <ol> <li> <p>Stop the <code>greeting</code> container.</p> </li> <li> <p>Remove the container.</p> </li> <li> <p>Remove the image. (<em>NOTE: You will need the image_id to remove it.</em>)</p> </li> </ol> <h3 id="pulling-an-image-from-the-registry">Pulling an image from the registry<a class="headerlink" href="#pulling-an-image-from-the-registry" title="Permanent link">¶</a></h3> <p>Sometimes, you may need the images that are residing on your registry. Or you may want to use some public images out there. Then, we need to pull the image from the registry.</p> <ol> <li>Pull the image <code>greeting</code> from the registry,</li> </ol> <p>If it successfully got pulled, we will see something like below.</p> <div class="language-bash highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>ddcb5f219ce2:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>e3371bbd24a0:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>49d2efb3c01b:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>Digest:<span class="w"> </span>sha256:21c2034646a31a18b053546df00d9ce2e0871bafcdf764f872a318a54562e6b4
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>Status:<span class="w"> </span>Downloaded<span class="w"> </span>newer<span class="w"> </span>image<span class="w"> </span><span class="k">for</span><span class="w"> </span>&lt;repository_name&gt;/greeting:v1.0.0
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>docker.io/&lt;repository_name&gt;/greeting:v1.0.0
</span></code></pre></div> <h2 id="conclusion">Conclusion<a class="headerlink" href="#conclusion" title="Permanent link">¶</a></h2> <p>You have successfully completed this lab! Let's take a look at what you learned and did today:</p> <ul> <li>Learned about the Containerfile.</li> <li>Learned about podman images.</li> <li>Learned about podman containers.</li> <li>Learned about multi-stage podman builds.</li> <li>Ran the Greetings service on Podman.</li> </ul> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type="button" class="md-top md-icon" data-md-component="top" hidden> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg> Back to top </button> </main> <!--
  Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!-- Footer --> <footer class="md-footer"> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class="md-copyright"> <div class="md-copyright__highlight"> Copyright © 2025 IBM Client Engineering </div> Made with <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener"> Material for MkDocs </a> </div> <div class="md-footer-column"> <a href="https://techzone.ibm.com"><img src="https://ibm.biz/PoweredByITZ" style="height:55px;"></a> </div> </div> </div> </footer> </div> <div class="md-dialog" data-md-component="dialog"> <div class="md-dialog__inner md-typeset"></div> </div> <script id="__config" type="application/json">{"base": "../..", "features": ["content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.code.select", "content.footnote.tooltips", "content.tabs.link", "content.tooltips", "header.autohide", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow", "toc.integrate"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script> <script src="../../assets/javascripts/custom.054acff4.min.js"></script>  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>